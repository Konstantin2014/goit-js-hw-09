{"version":3,"sources":["js/03-promises.js"],"names":["refs","form","document","querySelector","inputFields","querySelectorAll","labels","createButton","delay","getElementsByName","step","amount","createPromise","position","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","forEach","element","style","marginRight","display","maxWidth","fontSize","fontWeight","input","height","padding","addEventListener","event","preventDefault","formElements","currentTarget","elements","firstDelay","Number","value","delayStep","i","then","console","log","catch"],"mappings":";AAAA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,QAC7BC,YAAaF,SAASG,iBAAiB,SACvCC,OAAQJ,SAASG,iBAAiB,SAClCE,aAAcL,SAASC,cAAc,UACrCK,MAAON,SAASO,kBAAkB,SAClCC,KAAMR,SAASO,kBAAkB,QACjCE,OAAQT,SAASO,kBAAkB,WA0CrC,SAASG,EAAcC,EAAUL,GACxB,OAAA,IAAIM,QAAQ,CAACC,EAASC,KACrBC,MAAAA,EAAgBC,KAAKC,SAAW,GAEtCC,WAAW,KACLH,EACFF,EAAQ,CAAEF,SAAAA,EAAUL,MAAAA,IAEpBQ,EAAO,CAAEH,SAAAA,EAAUL,MAAAA,KAEpBA,KAjDPR,EAAKM,OAAOe,QAAQC,IAClBA,EAAQC,MAAMC,YAAc,QAC5BF,EAAQC,MAAME,QAAU,eACxBH,EAAQC,MAAMG,SAAW,QACzBJ,EAAQC,MAAMI,SAAW,OACzBL,EAAQC,MAAMK,WAAa,QAG7B5B,EAAKI,YAAYiB,QAAQQ,IACvBA,EAAMN,MAAMO,OAAS,OACrBD,EAAMN,MAAMQ,QAAU,OACtBF,EAAMN,MAAMI,SAAW,OACvBE,EAAMN,MAAMK,WAAa,SAG3B5B,EAAKO,aAAagB,MAAMO,OAAS,OACjC9B,EAAKO,aAAagB,MAAMI,SAAW,OACnC3B,EAAKO,aAAagB,MAAMK,WAAa,OAErC5B,EAAKC,KAAK+B,iBAAiB,SAAUC,IACnCA,EAAMC,iBAEAC,MAAAA,EAAeF,EAAMG,cAAcC,SACrCC,IAAAA,EAAaC,OAAOJ,EAAa3B,MAAMgC,OACrCC,MAAAA,EAAYF,OAAOJ,EAAazB,KAAK8B,OACrC7B,EAAS4B,OAAOJ,EAAaxB,OAAO6B,OAErC,IAAA,IAAIE,EAAI,EAAGA,GAAK/B,EAAQ+B,GAAK,EAChC9B,EAAc8B,EAAGJ,GACdK,KAAK,EAAG9B,SAAAA,EAAUL,MAAAA,MACjBoC,QAAQC,2BAA2BhC,QAAeL,SAEnDsC,MAAM,EAAGjC,SAAAA,EAAUL,MAAAA,MAClBoC,QAAQC,0BAA0BhC,QAAeL,SAErD8B,GAAcG","file":"03-promises.f673cb24.js","sourceRoot":"../src","sourcesContent":["const refs = {\n  form: document.querySelector('form'),\n  inputFields: document.querySelectorAll('input'),\n  labels: document.querySelectorAll('label'),\n  createButton: document.querySelector('button'),\n  delay: document.getElementsByName('delay'),\n  step: document.getElementsByName('step'),\n  amount: document.getElementsByName('amount'),\n};\n\nrefs.labels.forEach(element => {\n  element.style.marginRight = '100px';\n  element.style.display = 'inline-block';\n  element.style.maxWidth = '200px';\n  element.style.fontSize = '25px';\n  element.style.fontWeight = '500';\n});\n\nrefs.inputFields.forEach(input => {\n  input.style.height = '40px';\n  input.style.padding = '10px';\n  input.style.fontSize = '20px';\n  input.style.fontWeight = 'bold';\n});\n\nrefs.createButton.style.height = '40px';\nrefs.createButton.style.fontSize = '20px';\nrefs.createButton.style.fontWeight = 'bold';\n\nrefs.form.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const formElements = event.currentTarget.elements;\n  let firstDelay = Number(formElements.delay.value);\n  const delayStep = Number(formElements.step.value);\n  const amount = Number(formElements.amount.value);\n\n  for (let i = 1; i <= amount; i += 1) {\n    createPromise(i, firstDelay)\n      .then(({ position, delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n    firstDelay += delayStep;\n  }\n});\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n"]}